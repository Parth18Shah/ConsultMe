{% extends "layout.html" %}
{% block body %}
    <div class="bg-gra-02">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                        <span>{{ message }}</span>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close" onclick=delete_flash(this)>
                        <span aria-hidden="true">Ã—</span>
                        </button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
        <div class="p-t-130 font-poppins " style="display:flex; padding-bottom:80px ;justify-content: center;align-items: center;">
            <div class="wrapper wrapper--w960">
                <div class="chat bg-dark">
                    <div class=" card-body">

                        <h2 class="predict-h2">Predict a Disease</h2>
                        <div class="">
                            <div class="row form-group has-search" style="display: flex;">
                                <form action="{{ url_for('predict') }}" method="POST" class="p-5">
                                    <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                        <label class="b" for="disease1">Symptom 1 :</label>
                                            <select class="custom-select d-block w-100" id="disease1" name="Symptom_1">
                                                <option value="0">Choose...</option>
                                                {% for each in symptomslist %}
                                                <option>{{ each }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                        <label class="b" for="disease2">Symptom 2 :</label>
                                            <select class="custom-select d-block w-100" id="disease2" name="Symptom_2">
                                                <option value="0">Choose...</option>
                                                {% for each in symptomslist %}
                                                <option>{{ each }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                        <label class="b" for="disease3">Symptom 3 :</label>
                                            <select class="custom-select d-block w-100" id="disease3" name="Symptom_3">
                                                <option value="0">Choose...</option>
                                                {% for each in symptomslist %}
                                                <option>{{ each }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                        <label class="b" for="disease4">Symptom 4 :</label>
                                                <select class="custom-select d-block w-100" id="disease4" name="Symptom_4">
                                                <option value="0">Choose...</option>
                                                {% for each in symptomslist %}
                                                <option>{{ each }}</option>
                                                {% endfor %}
                                                </select>
                                        </div>
                                    </div>
                                </div>
                                    <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                        <label class="b" for="disease5">Symptom 5 :</label>
                                                <select class="custom-select d-block w-100" id="disease5" name="Symptom_5">
                                                <option value="0">Choose...</option>
                                                {% for each in symptomslist %}
                                                <option>{{ each }}</option>
                                                {% endfor %}
                                                </select>
                                        </div>
                                    </div>
                                    </div>
                                    
                                <button class="btn btn--blue btn--radius-2 " type="submit" value="submit" style="margin-top: 2rem;">Predict</button>
                                
                                </form>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="wrapper wrapper--w960">
                {% if diseasename is defined %}
                    <div class="bg-dark msg_card_body col-12 ">
                        <div class="chat">
                            <h2 class="predict-h2">Predicted Disease</h2>
                                
                                    <p class="b">Predicted disease: {{diseasename[0]}}</p>
                                    <p class="b">About the disease:</p>
                                    <hr style="background-color:whitesmoke">
                                    <p class="b">{{ diseasedesc }}</p>
                            <h2 class="chat-h2">Treatment/Precaution</h2>
                                    <p class="b">Treatment/Precaution for the disease:</p>
                                    <hr style="background-color:whitesmoke">
                                    {% for i in treatment %}
                                        <p class="b">{{ i }}</p>
                                    {% endfor %}
                                    <hr style="background-color:whitesmoke">
                                    <p class="b" style="text-align: center;"> Please consult a {{ specialization }} doctor.</p>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>

    <script>
        function myFunction() {
            var input, filter, ul, li, a, i, txtValue;
            input = document.getElementById("myInput");
            filter = input.value.toUpperCase();
            ul = document.getElementById("myUL");
            li = ul.getElementsByTagName("li");
            for (i = 0; i < li.length; i++) {
                a = li[i].getElementsByTagName("a")[0];
                txtValue = a.textContent || a.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    li[i].style.display = "";
                } else {
                    li[i].style.display = "none";
                }
            }
        }
    </script>

{% endblock %}